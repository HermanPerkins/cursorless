"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[89257],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return c}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),o=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},u=function(e){var t=o(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=o(n),c=a,f=m["".concat(l,".").concat(c)]||m[c]||d[c]||i;return n?r.createElement(f,p(p({ref:t},u),{},{components:n})):r.createElement(f,p({ref:t},u))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,p=new Array(i);p[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,p[1]=s;for(var o=2;o<i;o++)p[o]=n[o];return r.createElement.apply(null,p)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},89723:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return s},metadata:function(){return o},toc:function(){return d}});var r=n(87462),a=n(63366),i=(n(67294),n(3905)),p=["components"],s={},l="Wrapper snippets",o={unversionedId:"user/experimental/wrapper-snippets",id:"user/experimental/wrapper-snippets",title:"Wrapper snippets",description:"Wrapper snippet demo",source:"@site/../docs/user/experimental/wrapper-snippets.md",sourceDirName:"user/experimental",slug:"/user/experimental/wrapper-snippets",permalink:"/docs/user/experimental/wrapper-snippets",editUrl:"https://github.com/cursorless-dev/cursorless/edit/main/docs/../docs/user/experimental/wrapper-snippets.md",tags:[],version:"current",frontMatter:{},sidebar:"user",previous:{title:"Cursorless snippet format",permalink:"/docs/user/experimental/snippet-format"},next:{title:"Installation",permalink:"/docs/user/installation"}},u={},d=[{value:"Enabling wrapper snippets",id:"enabling-wrapper-snippets",level:2},{value:"Using wrapper snippets",id:"using-wrapper-snippets",level:2},{value:"Command syntax",id:"command-syntax",level:3},{value:"Examples",id:"examples",level:3},{value:"Default scope types",id:"default-scope-types",level:3},{value:"Built-in wrapper snippets",id:"built-in-wrapper-snippets",level:2},{value:"Customizing spoken forms",id:"customizing-spoken-forms",level:2},{value:"Adding your own snippets",id:"adding-your-own-snippets",level:2},{value:"Define snippets in vscode",id:"define-snippets-in-vscode",level:3},{value:"2. Add snippet to spoken forms csv",id:"2-add-snippet-to-spoken-forms-csv",level:3},{value:"Customizing built-in snippets",id:"customizing-built-in-snippets",level:2}],m={toc:d};function c(e){var t=e.components,s=(0,a.Z)(e,p);return(0,i.kt)("wrapper",(0,r.Z)({},m,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"wrapper-snippets"},"Wrapper snippets"),(0,i.kt)("p",null,(0,i.kt)("img",{loading:"lazy",alt:"Wrapper snippet demo",src:n(11787).Z,width:"1195",height:"588"}),"\n",(0,i.kt)("img",{loading:"lazy",alt:"Link wrap",src:n(10677).Z,width:"1015",height:"730"})),(0,i.kt)("p",null,"In addition to wrapping with paired delimiters (eg ",(0,i.kt)("inlineCode",{parentName:"p"},'"square wrap"'),", ",(0,i.kt)("inlineCode",{parentName:"p"},'"round wrap"'),", etc), we experimentally support wrapping with snippets. Cursorless ships with a few built-in snippets, but users can also use their own snippets."),(0,i.kt)("h2",{id:"enabling-wrapper-snippets"},"Enabling wrapper snippets"),(0,i.kt)("p",null,"Add the following line to the end of your ",(0,i.kt)("inlineCode",{parentName:"p"},"settings.talon")," (or any other ",(0,i.kt)("inlineCode",{parentName:"p"},".talon")," file that will be active when vscode is focused):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"tag(): user.cursorless_experimental_snippets\n")),(0,i.kt)("h2",{id:"using-wrapper-snippets"},"Using wrapper snippets"),(0,i.kt)("h3",{id:"command-syntax"},"Command syntax"),(0,i.kt)("p",null,"The command syntax is as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'"<snippet_name> wrap <target>"\n')),(0,i.kt)("h3",{id:"examples"},"Examples"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'"try wrap air"'),": Wrap the statement containing the marked ",(0,i.kt)("inlineCode",{parentName:"li"},"a")," in a try-catch statement"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'"try wrap air past bat"'),": Wrap the sequence of statements from the marked ",(0,i.kt)("inlineCode",{parentName:"li"},"a")," to the marked ",(0,i.kt)("inlineCode",{parentName:"li"},"b")," in a try-catch statement")),(0,i.kt)("h3",{id:"default-scope-types"},"Default scope types"),(0,i.kt)("p",null,"Each snippet wrapper has a default scope type. When you refer to a target, by default it will expand to the given scope type. This way, for example, when you say ",(0,i.kt)("inlineCode",{parentName:"p"},'"try wrap air"'),", it will refer to the statement containing ",(0,i.kt)("inlineCode",{parentName:"p"},"a")," rather than just the token."),(0,i.kt)("h2",{id:"built-in-wrapper-snippets"},"Built-in wrapper snippets"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Default spoken form"),(0,i.kt)("th",{parentName:"tr",align:null},"Snippet"),(0,i.kt)("th",{parentName:"tr",align:null},"Default target scope type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"if wrap"')),(0,i.kt)("td",{parentName:"tr",align:null},"If statement"),(0,i.kt)("td",{parentName:"tr",align:null},"Statement")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"else wrap"')),(0,i.kt)("td",{parentName:"tr",align:null},"If-else statement; target goes in else branch"),(0,i.kt)("td",{parentName:"tr",align:null},"Statement")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"if else wrap"')),(0,i.kt)("td",{parentName:"tr",align:null},"If-else statement; target goes in if branch"),(0,i.kt)("td",{parentName:"tr",align:null},"Statement")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"try wrap"')),(0,i.kt)("td",{parentName:"tr",align:null},"Try-catch statement"),(0,i.kt)("td",{parentName:"tr",align:null},"Statement")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"link wrap"')),(0,i.kt)("td",{parentName:"tr",align:null},"Markdown link"),(0,i.kt)("td",{parentName:"tr",align:null})))),(0,i.kt)("h2",{id:"customizing-spoken-forms"},"Customizing spoken forms"),(0,i.kt)("p",null,"As usual, the spoken forms for these wrapper snippets can be ",(0,i.kt)("a",{parentName:"p",href:"/docs/user/customization"},"customized by csv"),". The csvs are in the file ",(0,i.kt)("inlineCode",{parentName:"p"},"cursorless-settings/experimental/wrapper_snippets.csv"),"."),(0,i.kt)("h2",{id:"adding-your-own-snippets"},"Adding your own snippets"),(0,i.kt)("p",null,"To define your own wrapper snippets, proceed as follows:"),(0,i.kt)("h3",{id:"define-snippets-in-vscode"},"Define snippets in vscode"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Set the ",(0,i.kt)("inlineCode",{parentName:"li"},"cursorless.experimental.snippetsDir")," setting to a directory in which you'd like to create your snippets."),(0,i.kt)("li",{parentName:"ol"},"Add snippets to the directory in files ending in ",(0,i.kt)("inlineCode",{parentName:"li"},".cursorless-snippets"),". See the ",(0,i.kt)("a",{parentName:"li",href:"/docs/user/experimental/snippet-format"},"documentation")," for the cursorless snippet format.")),(0,i.kt)("h3",{id:"2-add-snippet-to-spoken-forms-csv"},"2. Add snippet to spoken forms csv"),(0,i.kt)("p",null,"For each snippet that you'd like to be able to use as a wrapper snippet, add a line to the ",(0,i.kt)("inlineCode",{parentName:"p"},"cursorless-settings/experimental/wrapper_snippets.csv")," csv overrides file. The first column is the desired spoken form, and the second column is of the form ",(0,i.kt)("inlineCode",{parentName:"p"},"<name>.<variable>"),", where ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," is the name of the snippet (ie the key in your snippet json file), and ",(0,i.kt)("inlineCode",{parentName:"p"},"variable")," is one of the placeholder variables in your snippet where the target should go."),(0,i.kt)("h2",{id:"customizing-built-in-snippets"},"Customizing built-in snippets"),(0,i.kt)("p",null,"To customize a built-in snippet, just define a custom snippet (as above), but\nuse the same name as the cursorless core snippet you'd like to change, and give\ndefinitions along with scopes where you'd like your override to be active. Here\nis an example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "tryCatchStatement": {\n    "definitions": [\n      {\n        "scope": {\n          "langIds": [\n            "typescript",\n            "typescriptreact",\n            "javascript",\n            "javascriptreact"\n          ]\n        },\n        "body": ["try {", "\\t$body", "} catch (err) {", "\\t$exceptBody", "}"]\n      }\n    ]\n  }\n}\n')),(0,i.kt)("p",null,"The above will change the definition of the try-catch statement in typescript."))}c.isMDXComponent=!0},10677:function(e,t,n){t.Z=n.p+"assets/images/linkWrap-10bee6f6deb41d4da59955737ce9a44d.gif"},11787:function(e,t,n){t.Z=n.p+"assets/images/tryWrapFine-9655118ff42de230357781ce5691079c.gif"}}]);